<!DOCTYPE html>
<html>
  <head>
    <title>GIN.IO | Install</title>
      <meta http-equiv="content-type" content="text/html; charset=UTF-8" \>
      <meta name="description"
          content="A fast, low-latency, low-memory footprint, web JSON-API framework with Test Driven Development helpers and patterns"/>

      <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400' rel='stylesheet' type='text/css'>
      <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

      <link rel="stylesheet" href="../assets/application-1359763b6d352d2ceadd1d7e5ce63c2a.css">
      <script src="../assets/application-dfb7ed62b2c9fe2bb66c4adc6a003717.js"></script>
  </head>

  <body>
    <div id="header">
      <div class="container">
        <div class="title">
          <a href="../">GIN.IO</a>
        </div>

        <div class="top-nav">
          <ul>
            <li><a href="../">Home</a></li>
            <li><a href="../docs/install.html">Docs</a></li>
            <li><a href="../tutorial.html">Tutorial</a></li>
            <li><a href="https://github.com/ostinelli/gin">Source</a></li>
          </ul>
        </div>
      </div>
    </div>


<div class="wrapper">
  <div class="container">

    <div class="main">
      <h1>Install</h1>

<h3>On OSX</h3>

<p>These instructions allow you to install Gin on a OSX developer machine.</p>

<h5>Homebrew</h5>

<p>The instructions here below describe the installation flow using <a href="http://brew.sh/">HomeBrew</a>.
If you don&#39;t have it installed, you can easily install it by running:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>ruby -e <span class="s2">&quot;$(curl -fsSL https://raw.github.com/mxcl/homebrew/go)&quot;</span>
</code></pre></div>
<h5>PCRE, Lua &amp; LuaJIT</h5>

<p>Install Lua 5.1 (the version that runs in OpenResty) Perl Compatible Regular Expressions &amp; LuaJIT</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>brew install lua51 luajit pcre
</code></pre></div>
<p>Note down the installed version, you&#39;ll need this information in the next step.</p>

<h5>Luarocks</h5>

<p>Install Lua&#39;s package manager.</p>

<p>Luarocks is installed by default when installing Lua 5.2 with Homebrew, but since we&#39;re using Lua 5.1 (for compatibility with OpenResty) we need to install it manually. To do so, download the latest Luarocks from the <a href="https://github.com/keplerproject/luarocks/releases">official repository</a> (at the time of the writing, it&#39;s v2.2.2), untar the file and then install it:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./configure
<span class="nv">$ </span>make build
<span class="nv">$ </span>make install
</code></pre></div>
<h5>MySql</h5>

<p>If you&#39;re planning to use MySql, you&#39;ll need to have an installed MySql copy together with its header files so that <a href="https://code.google.com/p/luadbi/">LuaDBI</a> can be compiled.</p>

<ul>
<li><p>Install MySql server and its header files</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>brew install mysql
</code></pre></div>
<p>Ensure that it is installed:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>mysql --version
mysql  Ver 14.14 Distrib 5.6.21, <span class="k">for</span> osx10.10 <span class="o">(</span>x86_64<span class="o">)</span> using  EditLine wrapper
</code></pre></div>
<p>You may optionally want to start it automatically upon login, if so:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>ln -sfv /usr/local/opt/mysql/*.plist ~/Library/LaunchAgents
</code></pre></div>
<p>To launch it immediately without rebooting your box:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>launchctl load ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist
</code></pre></div></li>
<li><p>Install LuaDBI</p>

<p>Now that you have MySql installed with the header files, proceed to install LuaDBI for MySql:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">luarocks install luadbi-mysql
</code></pre></div>
<p>You may need to specify where to find the MySQL header files, like so:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">luarocks install luadbi-mysql <span class="nv">MYSQL_INCDIR</span><span class="o">=</span>/usr/local/opt/mysql/include/mysql
</code></pre></div>
<blockquote>
<p>This additional driver is not needed by OpenResty since it has its own embedded driver. LuaDBI is used by Gin to run the console and the migrations.</p>
</blockquote></li>
</ul>

<h5>PostgreSql</h5>

<p>If you&#39;re planning to use PostgreSql, you&#39;ll need to have an installed PostgreSql copy together with its header files so that <a href="https://code.google.com/p/luadbi/">LuaDBI</a> can be compiled.</p>

<ul>
<li><p>Install PostgreSql server and its header files</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>brew install postgresql
</code></pre></div>
<p>Ensure that it is installed:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>psql --ver
psql <span class="o">(</span>PostgreSQL<span class="o">)</span> 9.3.5
</code></pre></div>
<p>You may optionally want to start it automatically upon login, if so:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>ln -sfv /usr/local/opt/postgresql/*.plist ~/Library/LaunchAgents
</code></pre></div>
<p>To launch it immediately without rebooting your box:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>launchctl load ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist
</code></pre></div>
<p>Try to login with the default <code>postgres</code> role:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>psql -U postgres
psql <span class="o">(</span>9.3.5<span class="o">)</span>
Type <span class="s2">&quot;help&quot;</span> <span class="k">for</span> help.

<span class="nv">postgres</span><span class="o">=</span><span class="c">#</span>
</code></pre></div>
<p>If previous instruction returns an error because your database isn&#39;t initialized yet, just issue the command:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">initdb /usr/local/var/postgres
</code></pre></div>
<p>If trying to login with the default user returns the error <code>psql: FATAL:  role &quot;postgres&quot; does not exist</code>, then simply create the default role:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>createuser -s postgres
</code></pre></div></li>
<li><p>Install LuaDBI</p>

<p>Now that you have MySql installed with the header files, proceed to install LuaDBI for PostgreSql:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">luarocks install luadbi-postgresql
</code></pre></div>
<blockquote>
<p>This additional driver is not needed by OpenResty since it has its own embedded driver. LuaDBI is used by Gin to run the console and the migrations.</p>
</blockquote></li>
</ul>

<h5>OpenResty</h5>

<p>Gin runs on <a href="http://openresty.org/">OpenResty</a>, a customized bundle of <a href="http://nginx.org/">Nginx</a>.</p>

<ul>
<li><p>Install OpenResty</p>

<p>Go to <a href="http://openresty.org/#Download">OpenResty</a> in the downloads section and grab the latest release. Then:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>wget http://openresty.org/download/ngx_openresty-<span class="o">{</span>VERSION<span class="o">}</span>.tar.gz
<span class="nv">$ </span>tar -zxvf ngx_openresty-<span class="o">{</span>VERSION<span class="o">}</span>.tar.gz
<span class="nv">$ </span><span class="nb">cd </span>ngx_openresty-<span class="o">{</span>VERSION<span class="o">}</span>/
<span class="nv">$ </span>./configure <span class="se">\</span>
    --with-cc-opt<span class="o">=</span><span class="s2">&quot;-I/usr/local/Cellar/pcre/{PCRE-VERSION}/include&quot;</span> <span class="se">\</span>
    --with-ld-opt<span class="o">=</span><span class="s2">&quot;-L/usr/local/Cellar/pcre/{PCRE-VERSION}/lib&quot;</span> <span class="se">\</span>
    --with-luajit
<span class="nv">$ </span>make
<span class="nv">$ </span>make install
</code></pre></div>
<blockquote>
<p>Note: Ensure to properly substitute <code>{VERSION}</code> and <code>{PCRE-VERSION}</code> with OpenResty and PCRE versions respectively.</p>
</blockquote>

<p>If you plan to use PostgreSQL, then you need to have PostgreSQL already installed and
the configure step needs to provide the additional option <code>--with-http_postgres_module</code>:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./configure <span class="se">\</span>
    --with-cc-opt<span class="o">=</span><span class="s2">&quot;-I/usr/local/Cellar/pcre/{PCRE-VERSION}/include&quot;</span> <span class="se">\</span>
    --with-ld-opt<span class="o">=</span><span class="s2">&quot;-L/usr/local/Cellar/pcre/{PCRE-VERSION}/lib&quot;</span> <span class="se">\</span>
    --with-http_postgres_module <span class="se">\</span>
    --with-luajit
</code></pre></div></li>
<li><p>Configure the PATH to OpenResty</p>

<p>Assuming you have installed OpenResty into <code>/usr/local/openresty</code> (this is the default), make the nginx executable of your OpenResty installation available in the PATH environment, appending at the end of <code>~/.bash_profile</code>:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span>/usr/local/openresty/nginx/sbin:<span class="nv">$PATH</span>
</code></pre></div></li>
<li><p>Check to see if OpenResty got successfully installed (you might need to <code>source ~/.bash_profile</code> or just restart the terminal for this to work):</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>nginx -v
nginx version: openresty/1.9.3.1
</code></pre></div></li>
</ul>

<h5>Gin</h5>

<p>To install the latest Gin, issue the command:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>luarocks install --server<span class="o">=</span>http://gin.io/repo gin
</code></pre></div>
<p>Check if the Gin client got correctly installed:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>gin

           /++++/:
           NNNNNmm
           mNNMNmy
          .dNMMNms<span class="sb">`</span>
      .:+sydMMMMMdyo/-<span class="sb">`</span>
   <span class="sb">`</span>sdmmmNNNMMMMMNmdhhddo
   <span class="sb">`</span>dMMNNMMMMMMMMMNdhdMMy
   <span class="sb">`</span>dMMMNMMMMdsymMNdhdNMy
   <span class="sb">`</span>dMMMNNho-....:shhdNMy
   <span class="sb">`</span>dMMdo-......<span class="sb">`</span>.<span class="sb">``</span>:sNMy
   <span class="sb">`</span>dd/........-..<span class="sb">````</span>-hy
   <span class="sb">`</span>:...--.<span class="sb">`</span>----..<span class="sb">`````</span>.-
   <span class="sb">``</span>//+-  G  I  N  .+-/<span class="sb">`</span>
   <span class="sb">`</span>:..-..<span class="sb">``</span>-...-.<span class="sb">`</span>.<span class="sb">`</span>.<span class="sb">``</span>-
   <span class="sb">`</span>hs-<span class="sb">```</span>-./.:<span class="sb">`</span>-/<span class="sb">`</span>.<span class="sb">```</span>os
   <span class="sb">`</span>hNms-.<span class="sb">``</span>.-.-.<span class="sb">````</span>+mmy
   <span class="sb">`</span>hNNNNh+.-:---<span class="sb">`</span>-smNNmy
   <span class="sb">`</span>hNNNMMMNy+.:sdNNNNNmy<span class="sb">`</span>
   <span class="sb">`</span>dNNNNMMMMMNNNNNNNNNNy<span class="sb">`</span>
   <span class="sb">`</span>hNNNNNMMMMMMMMNNmNNNy<span class="sb">`</span>
    ./osyhhddddddhhyss+:<span class="sb">`</span>

GIN v0.1.4, a JSON-API web framework.

Usage: gin COMMAND <span class="o">[</span>ARGS<span class="o">]</span>

The available gin commands are:
 new <span class="o">[</span>name<span class="o">]</span>             Create a new Gin application
 start                  Starts the Gin server
 stop                   Stops the Gin server
 console                Start a Gin console
 generate migration     Create a new migration
 migrate                Run all migrations that have not been run
 migrate rollback       Rollback one migration
</code></pre></div>
<p>If you can see this, consider your installation of Gin a success!</p>

<p>You can now proceed to <a href="../docs/getting_started.html">Getting Started</a> to create your first Gin app.</p>

    </div>

    <div class="sidebar docs">
      <h4>Docs</h4>

<ul>
    <li class="active"><a href="../docs/install.html">Install</a></li>
    <li><a href="../docs/getting_started.html">Getting Started</a></li>
    <li><a href="../docs/api_console.html">API Console</a></li>
    <li><a href="../docs/application_files.html">Application Files</a></li>
    <li><a href="../docs/api_versioning.html">API Versioning</a></li>
    <li><a href="../docs/routes.html">Routes</a></li>
    <li><a href="../docs/errors.html">Errors</a></li>
    <li><a href="../docs/controllers.html">Controllers</a></li>
    <li><a href="../docs/models.html">Models</a></li>
    <li><a href="../docs/migrations.html">Migrations</a></li>
    <li><a href="../docs/testing.html">Testing</a></li>
    <li><a href="../docs/other.html">Other</a></li>
</ul>

    </div>
  </div>
</div>

    </div>

    <div id="footer-top">
      <div class="container">
      </div>
    </div>

    <div id="footer-bottom">
      <div class="container">
        All rights reserved &copy; 2013
      </div>
    </div>
  </body>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45805640-1', 'gin.io');
  ga('send', 'pageview');

</script>

</html>

